/*****************************************************************************
Symbol					Group		Huffman Code
------------------------------------------------------------------------------
0					0                   -
-1,1					1                  0,1
-3,-2,2,3				2              00,01,10,11
-7,-6,-5,-4,4,5,6,7			3    000,001,010,011,100,101,110,111
-15,..,-8,8,..,15			4       0000,..,0111,1000,..,1111
-31,..,-16,16,..,31			5     00000,..,01111,10000,..,11111
-63,..,-32,32,..,63			6                   .
-127,..,-64,64,..,127			7                   .
-255,..,-128,128,..,255			8                   .
-511,..,-256,256,..,511			9                   .
-1023,..,-512,512,..,1023		10                   .
-2047,..,-1024,1024,..,2047		11                   .
-4095,..,-2048,2048,..,4095		12                   .
-8191,..,-4096,4096,..,8191		13                   .
-16383,..,-8192,8192,..,16383		14                   .
-32767,..,-16384,16384,..,32767		15                   .
*****************************************************************************/

#include <stdint.h>

int32_t huffman_decode(uint8_t bit_width, uint16_t huffman_code)
{
	uint16_t mask_flag = 1 << (bit_width - 1);

	int flag = (huffman_code & mask_flag) ? 1 : 0;
	if (0 == flag) {
		huffman_code = (~huffman_code) & ((1 << bit_width) - 1);
		return -huffman_code;
	}
	
	return huffman_code;
}

